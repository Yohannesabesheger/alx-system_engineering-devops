#!/bin/bash

# Define the custom alphabets
water="ewatr"
stir="ti.r"
bestchol="bestchol"

# Convert a number from custom base to decimal
base_to_decimal() {
  local number="$1"
  local base_chars="$2"
  local base_len=${#base_chars}
  local decimal=0
  local i c pos

  for ((i = 0; i < ${#number}; i++)); do
    c="${number:$i:1}"
    pos=$(expr index "$base_chars" "$c")
    ((decimal = decimal * base_len + pos - 1))
  done

  echo "$decimal"
}

# Convert a decimal number to custom base
decimal_to_base() {
  local number="$1"
  local base_chars="$2"
  local base_len=${#base_chars}
  local result=""

  while [ "$number" -gt 0 ]; do
    remainder=$((number % base_len))
    result="${base_chars:remainder:1}$result"
    number=$((number / base_len))
  done

  echo "$result"
}

dec_water=$(base_to_decimal "$WATER" "$water")
dec_stir=$(base_to_decimal "$STIR" "$stir")
sum=$((dec_water + dec_stir))
decimal_to_base "$sum" "$bestchol"
